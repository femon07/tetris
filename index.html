<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tetris</title>
  <link rel="stylesheet" href="src/styles/modern-theme.css">
  <link rel="stylesheet" href="src/styles/responsive.css">
  <link rel="stylesheet" href="src/styles/animations.css">
</head>
<body>
  <h1>Tetris</h1>
  <div class="game-container">
    <!-- ホールドエリア -->
    <div class="side-info">
      <div class="hold-area">
        <div class="piece-preview">ホールド</div>
        <canvas id="hold-piece-canvas" width="80" height="80"></canvas>
        <div class="controls-info">
          C または Shift<br>でホールド
        </div>
      </div>
    </div>

    <!-- ゲームボード -->
    <div class="game-board">
      <canvas id="game" width="300" height="600"></canvas>
    </div>

    <!-- 次のピースとスコア情報 -->
    <div class="side-info">
      <div class="next-area">
        <div class="piece-preview">次のピース</div>
        <div class="next-pieces">
          <canvas id="next-piece-canvas-1" width="60" height="60" class="next-canvas primary"></canvas>
          <canvas id="next-piece-canvas-2" width="40" height="40" class="next-canvas secondary"></canvas>
          <canvas id="next-piece-canvas-3" width="40" height="40" class="next-canvas secondary"></canvas>
          <canvas id="next-piece-canvas-4" width="30" height="30" class="next-canvas tertiary"></canvas>
          <canvas id="next-piece-canvas-5" width="30" height="30" class="next-canvas tertiary"></canvas>
        </div>
      </div>

      <div class="game-info" id="game-info-panel">
        <!-- 基本ゲーム情報 -->
        <div class="info-section">
          <div class="info-item">
            <span class="info-label">Score</span>
            <span class="info-value" id="score">0</span>
          </div>
          <div class="info-item">
            <span class="info-label">Lines</span>
            <span class="info-value" id="lines">0</span>
          </div>
          <div class="info-item">
            <span class="info-label">Level</span>
            <span class="info-value" id="level">1</span>
          </div>
        </div>


        <!-- 音楽制御 -->
        <div id="audio-controls-container"></div>

        <div class="controls-info">
          <strong>← → ↓ ↑</strong> 移動・回転<br>
          <strong>Space</strong> ハードドロップ<br>
          <strong>C/Shift</strong> ホールド<br>
          <strong>T</strong> テーマ切替<br>
          <strong>M</strong> BGM切替<br>
          <strong>R</strong> リセット
        </div>
      </div>
    </div>
  </div>

  <!-- Game Over Overlay -->
  <div id="game-over-overlay" class="game-over-overlay" style="display: none;">
    <div class="game-over-content">
      <h2>GAME OVER</h2>
      <div class="final-score">
        <p>最終スコア: <span id="final-score">0</span></p>
        <p>消去ライン数: <span id="final-lines">0</span></p>
        <p>レベル: <span id="final-level">1</span></p>
      </div>
      <div class="game-over-buttons">
        <button id="restart-button" class="game-over-btn primary">もう一度プレイ (R)</button>
        <button id="close-overlay-button" class="game-over-btn secondary">閉じる</button>
      </div>
    </div>
  </div>

  <!-- Touch Controls for Mobile -->
  <div class="touch-controls">
    <div class="touch-controls-grid">
      <button class="touch-btn" data-action="left">←</button>
      <button class="touch-btn" data-action="rotate">↻</button>
      <button class="touch-btn" data-action="right">→</button>
      <button class="touch-btn" data-action="drop">↓</button>
      <button class="touch-btn hold-btn" data-action="hold">HOLD</button>
      <button class="touch-btn" data-action="hard-drop">⬇</button>
      <button class="touch-btn" data-action="reset">R</button>
    </div>
  </div>

  <script src="./main.js"></script>
</body>
</html>
